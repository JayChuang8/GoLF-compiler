Run started on Tue Mar 14 15:26:20 2023

Hostname: DESKTOP-LH91K7L

-------------------------------------------------------------------------------
Running make |
--------------

% /usr/bin/make

STDOUT:
/usr/bin/make -C Scanner
make[1]: Entering directory '/mnt/c/Projects/golf-compiler/Scanner'
make[1]: Nothing to be done for 'all'.
make[1]: Leaving directory '/mnt/c/Projects/golf-compiler/Scanner'
/usr/bin/make -C Utility
make[1]: Entering directory '/mnt/c/Projects/golf-compiler/Utility'
make[1]: Nothing to be done for 'all'.
make[1]: Leaving directory '/mnt/c/Projects/golf-compiler/Utility'
/usr/bin/make -C Parser
make[1]: Entering directory '/mnt/c/Projects/golf-compiler/Parser'
make[1]: Nothing to be done for 'all'.
make[1]: Leaving directory '/mnt/c/Projects/golf-compiler/Parser'
g++ -o main.o -c main.cpp -MMD -MF main.d
g++ -o golf main.o Scanner/token.o Scanner/scanner.o Utility/utility.o Parser/parser.o Parser/ast.o


STDERR:


RETURN CODE: 0

-------------------------------------------------------------------------------
Locating GoLF compiler |
------------------------

Compiler will be run as ./golf

-------------------------------------------------------------------------------
Test: too few arguments |
-------------------------

% ./golf

STDOUT:


STDERR:
Error: Requires 1 input file


RETURN CODE: 0

-------------------------------------------------------------------------------
Test: too many arguments |
--------------------------

% ./golf /dev/null /dev/zero

STDOUT:


STDERR:
Error: Requires 1 input file


RETURN CODE: 0

-------------------------------------------------------------------------------
Test: nonexistent file |
------------------------

% ./golf /i/do/not/exist

STDOUT:


STDERR:
Error: file '/i/do/not/exist' could not be opened


RETURN CODE: 1

-------------------------------------------------------------------------------
Test: func open brace in wrong place |
--------------------------------------

% ./golf ./test/ms2/parse.t1

STDOUT:


STDERR:
Error: unexpected ;, expected { at or near 3


RETURN CODE: 1

-------------------------------------------------------------------------------
Test: "for" open brace exception |
----------------------------------

% ./golf ./test/ms2/parse.t2

STDOUT:
program 
    func @ line 4
        functionName [main] @ line 4
        sig 
            formals 
        block 
            for [ForStmt for] @ line 5
                block 


STDERR:


RETURN CODE: 0

-------------------------------------------------------------------------------
Test: "for" open brace in wrong place |
---------------------------------------

% ./golf ./test/ms2/parse.t3

STDOUT:


STDERR:
Error: unexpected ;, expected { at or near 4


RETURN CODE: 1

-------------------------------------------------------------------------------
Test: "if" open brace in wrong place |
--------------------------------------

% ./golf ./test/ms2/parse.t4

STDOUT:


STDERR:
Error: unexpected ;, expected { at or near 4


RETURN CODE: 1

-------------------------------------------------------------------------------
Test: weird but correct formatting |
------------------------------------

% ./golf ./test/ms2/parse.t5

STDOUT:
program 
    func @ line 3
        functionName [main] @ line 3
        sig 
            formals 
        block 
            if [IfStmt if] @ line 5
                == [RelOpExpr ==] @ line 6
                    + [AddOpExpr+] @ line 5
                        int [BasicLit2] @ line 5
                        int [BasicLit3] @ line 6
                    int [BasicLit5] @ line 7
                block 


STDERR:


RETURN CODE: 0

-------------------------------------------------------------------------------
Test: precedence check |
------------------------

% ./golf ./test/ms2/parse.t6

STDOUT:
program 
    func @ line 4
        functionName [foo] @ line 4
        sig 
            formals 
            typeid [TypeName asdf] @ line 4
        block 
            = [ASSIGNOP=] @ line 5
                id [OperandName x] @ line 5
                + [AddOpExpr+] @ line 5
                    int [BasicLit2] @ line 5
                    * [MulOpExpr *] @ line 5
                        int [BasicLit3] @ line 5
                        int [BasicLit5] @ line 5
            = [ASSIGNOP=] @ line 6
                id [OperandName y] @ line 6
                * [MulOpExpr *] @ line 6
                    + [AddOpExpr+] @ line 6
                        int [BasicLit2] @ line 6
                        int [BasicLit3] @ line 6
                    int [BasicLit5] @ line 6


STDERR:


RETURN CODE: 0

-------------------------------------------------------------------------------
Test: formal and actual params |
--------------------------------

% ./golf ./test/ms2/parse.t7

STDOUT:
program 
    func @ line 3
        functionName [foo] @ line 3
        sig 
            formals 
        block 
    func @ line 6
        functionName [bar] @ line 6
        sig 
            formals 
                formal 
                    id [a1] @ line 6
                    typeid [TypeName int] @ line 6
                formal 
                    id [a2] @ line 6
                    typeid [TypeName bool] @ line 6
                formal 
                    id [a3] @ line 6
                    typeid [TypeName sometype] @ line 6
            typeid [TypeName returntype] @ line 6
        block 
    func @ line 9
        functionName [baz] @ line 9
        sig 
            formals 
            typeid [TypeName int] @ line 9
        block 
            exprstmt @ line 10
                funccall @ line 10
                    id [OperandName blarg] @ line 10
                    actuals 
                        + [AddOpExpr+] @ line 11
                            int [BasicLit123] @ line 11
                            int [BasicLit456] @ line 11
                        funccall @ line 12
                            id [OperandName garble] @ line 12
                            actuals 
                                int [BasicLit789] @ line 12
                        id [OperandName true] @ line 13
                        funccall @ line 14
                            id [OperandName greep] @ line 14
                            actuals 
                                id [OperandName false] @ line 14
                                string [BasicLiteek] @ line 14


STDERR:


RETURN CODE: 0

-------------------------------------------------------------------------------
Test: unary and binary minus |
------------------------------

% ./golf ./test/ms2/parse.t8

STDOUT:
program 
    func @ line 3
        functionName [main] @ line 3
        sig 
            formals 
        block 
            = [ASSIGNOP=] @ line 4
                id [OperandName x] @ line 4
                - [AddOpExpr-] @ line 4
                    id [OperandName a] @ line 4
                    - [UNARYOP -] @ line 4
                        int [BasicLit123] @ line 4
            = [ASSIGNOP=] @ line 5
                id [OperandName x] @ line 5
                - [AddOpExpr-] @ line 5
                    id [OperandName a] @ line 5
                    - [UNARYOP -] @ line 5
                        int [BasicLit123] @ line 5
            = [ASSIGNOP=] @ line 6
                id [OperandName x] @ line 6
                - [AddOpExpr-] @ line 6
                    id [OperandName a] @ line 6
                    - [UNARYOP -] @ line 6
                        - [UNARYOP -] @ line 6
                            int [BasicLit123] @ line 6
            = [ASSIGNOP=] @ line 7
                id [OperandName x] @ line 7
                - [AddOpExpr-] @ line 7
                    id [OperandName a] @ line 7
                    - [UNARYOP -] @ line 7
                        id [OperandName b] @ line 7
            = [ASSIGNOP=] @ line 8
                id [OperandName x] @ line 8
                - [UNARYOP -] @ line 8
                    - [UNARYOP -] @ line 8
                        - [UNARYOP -] @ line 8
                            - [UNARYOP -] @ line 8
                                - [UNARYOP -] @ line 8
                                    - [UNARYOP -] @ line 8
                                        - [UNARYOP -] @ line 8
                                            id [OperandName x] @ line 8


STDERR:


RETURN CODE: 0

-------------------------------------------------------------------------------
Test: func open brace in wrong place, with semicolon |
------------------------------------------------------

% ./golf ./test/ms2/parse.t9

STDOUT:


STDERR:
Error: unexpected ;, expected { at or near 4


RETURN CODE: 1

-------------------------------------------------------------------------------
Test: func open brace with bonus semicolon |
--------------------------------------------

% ./golf ./test/ms2/parse.t10

STDOUT:


STDERR:
Error: unexpected ;, expected { at or near 4


RETURN CODE: 1

-------------------------------------------------------------------------------
Test: "for" open brace in wrong place, with semicolon |
-------------------------------------------------------

% ./golf ./test/ms2/parse.t11

STDOUT:


STDERR:
Error: unexpected ;, expected { at or near 5


RETURN CODE: 1

-------------------------------------------------------------------------------
Test: "for" with bonus semicolon |
----------------------------------

% ./golf ./test/ms2/parse.t12

STDOUT:


STDERR:
Error: unexpected ;, expected { at or near 5


RETURN CODE: 1

-------------------------------------------------------------------------------
Test: "if" open brace in wrong place, with semicolon |
------------------------------------------------------

% ./golf ./test/ms2/parse.t13

STDOUT:


STDERR:
Error: unexpected ;, expected { at or near 5


RETURN CODE: 1

-------------------------------------------------------------------------------
Test: "if" with bonus semicolon |
---------------------------------

% ./golf ./test/ms2/parse.t14

STDOUT:


STDERR:
Error: unexpected ;, expected { at or near 5


RETURN CODE: 1

-------------------------------------------------------------------------------
Test: func line breaks using trailing commas |
----------------------------------------------

% ./golf ./test/ms2/parse.t15

STDOUT:
program 
    func @ line 3
        functionName [foo] @ line 3
        sig 
            formals 
                formal 
                    id [a] @ line 3
                    typeid [TypeName int] @ line 3
                formal 
                    id [b] @ line 4
                    typeid [TypeName int] @ line 4
                formal 
                    id [c] @ line 5
                    typeid [TypeName int] @ line 5
        block 


STDERR:


RETURN CODE: 0

-------------------------------------------------------------------------------
Test: func line breaks sans trailing comma |
--------------------------------------------

% ./golf ./test/ms2/parse.t16

STDOUT:


STDERR:
Error: unexpected ;, expected ) at or near 6


RETURN CODE: 1

-------------------------------------------------------------------------------
Test: func call line breaks with trailing commas |
--------------------------------------------------

% ./golf ./test/ms2/parse.t17

STDOUT:
program 
    func @ line 3
        functionName [foo] @ line 3
        sig 
            formals 
        block 
            exprstmt @ line 4
                funccall @ line 4
                    id [OperandName garbled] @ line 4
                    actuals 
                        id [OperandName a] @ line 4
                        id [OperandName b] @ line 5
                        id [OperandName c] @ line 6


STDERR:


RETURN CODE: 0

-------------------------------------------------------------------------------
Test: func call line breaks sans trailing comma |
-------------------------------------------------

% ./golf ./test/ms2/parse.t18

STDOUT:


STDERR:
Error: unexpected ;, expected ) at or near 7


RETURN CODE: 1

-------------------------------------------------------------------------------
Test: legit syntax salad |
--------------------------

% ./golf ./test/ms2/parse.t19

STDOUT:


STDERR:
Error: unexpected id, expected ; at or near 6


RETURN CODE: 1

-------------------------------------------------------------------------------
Test: assignment |
------------------

% ./golf ./test/ms2/parse.t20

STDOUT:


STDERR:
Error: unexpected =, expected ; at or near 7


RETURN CODE: 1

-------------------------------------------------------------------------------
Test: associativity test |
--------------------------

% ./golf ./test/ms2/parse.t21

STDOUT:
program 
    func @ line 3
        functionName [a_sock] @ line 3
        sig 
            formals 
        block 
            var [VarDecl var] @ line 4
                id [VarSpec a] @ line 4
                    typeid [TypeName int] @ line 4
            var [VarDecl var] @ line 5
                id [VarSpec b] @ line 5
                    typeid [TypeName int] @ line 5
            var [VarDecl var] @ line 6
                id [VarSpec c] @ line 6
                    typeid [TypeName int] @ line 6
            var [VarDecl var] @ line 7
                id [VarSpec d] @ line 7
                    typeid [TypeName int] @ line 7
            var [VarDecl var] @ line 8
                id [VarSpec e] @ line 8
                    typeid [TypeName int] @ line 8
            exprstmt @ line 10
                + [AddOpExpr+] @ line 10
                    + [AddOpExpr+] @ line 10
                        + [AddOpExpr+] @ line 10
                            + [AddOpExpr+] @ line 10
                                id [OperandName a] @ line 10
                                id [OperandName b] @ line 10
                            id [OperandName c] @ line 10
                        id [OperandName d] @ line 10
                    id [OperandName e] @ line 10
            exprstmt @ line 11
                / [MulOpExpr /] @ line 11
                    / [MulOpExpr /] @ line 11
                        / [MulOpExpr /] @ line 11
                            / [MulOpExpr /] @ line 11
                                id [OperandName a] @ line 11
                                id [OperandName b] @ line 11
                            id [OperandName d] @ line 11
                        id [OperandName d] @ line 11
                    id [OperandName e] @ line 11


STDERR:


RETURN CODE: 0

-------------------------------------------------------------------------------
Test: a calculated move |
-------------------------

% ./golf ./test/ms2/gen.t18

STDOUT:


STDERR:
Error: unexpected id, expected ; at or near 55


RETURN CODE: 1

Run ended on Tue Mar 14 15:26:21 2023

